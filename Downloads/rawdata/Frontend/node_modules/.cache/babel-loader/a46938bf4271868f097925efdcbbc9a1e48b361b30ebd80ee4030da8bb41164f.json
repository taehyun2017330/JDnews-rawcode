{"ast":null,"code":"import React,{useState,useRef}from'react';import{Button}from'react-bootstrap';import Webcam from'react-webcam';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import LoadingScreen from'./LoadingScreen';import ResultScreen from'./ResultScreen';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[buttonClicked,setButtonClicked]=useState('중');const[photoData,setPhotoData]=useState(null);const[isCameraOn,setIsCameraOn]=useState(false);// Camera off by default\nconst[isLoading,setIsLoading]=useState(false);const[lastPhoto,setLastPhoto]=useState(null);const[ocrText,setOcrText]=useState('');const[openaiSummary,setOpenaiSummary]=useState('');const webcamRef=useRef(null);const canvasRef=useRef(null);const fileInputRef=useRef(null);// Ref for the file input\nconst toggleCamera=()=>{setIsCameraOn(!isCameraOn);// 카메라 상태 토글\n};const resetAll=()=>{setButtonClicked('중');// Reset to default value or any other initial value you prefer\nsetPhotoData(null);setIsCameraOn(false);setIsLoading(false);setLastPhoto(null);setOcrText('');setOpenaiSummary('');};const handleFileChange=event=>{const file=event.target.files[0];if(file&&file.type.startsWith('image/')){const reader=new FileReader();reader.onloadend=()=>{setPhotoData(reader.result);setLastPhoto(reader.result);};reader.readAsDataURL(file);}};const handleRedirect=link=>{window.open(link,\"_blank\");};const handleClick=value=>{setButtonClicked(value);if(lastPhoto){handleSendPhoto();// Automatically send photo when difficulty is changed if photo exists\n}};const handleTakePhoto=()=>{const canvas=canvasRef.current;const context=canvas.getContext('2d');const webcamVideo=webcamRef.current.video;canvas.width=webcamVideo.videoWidth;canvas.height=webcamVideo.videoHeight;context.drawImage(webcamVideo,0,0,canvas.width,canvas.height);const photoDataURL=canvas.toDataURL('image/png');setPhotoData(photoDataURL);setLastPhoto(photoDataURL);};const handleSavePhoto=()=>{const a=document.createElement('a');a.href=photoData;a.download='photo.png';document.body.appendChild(a);a.click();document.body.removeChild(a);};const handleSendPhoto=async()=>{if(!photoData){console.error('No photo data to send');return;}setIsLoading(true);const blob=await(await fetch(photoData)).blob();const formData=new FormData();formData.append('image',blob,'photo.png');formData.append('level',buttonClicked);fetch('http://localhost:5001/process-image',{method:'POST',body:formData}).then(response=>response.json()).then(data=>{setOcrText(data.ocr_text||\"\");setOpenaiSummary(data.openai_summary);setIsLoading(false);// Stop loading once the data is received\nconsole.log(\"OCR Text:\",data.ocr_text);console.log(\"OpenAI Summary:\",data.openai_summary);}).catch(error=>{console.error('Error:',error);setIsLoading(false);});};const handleRetryWithNewLevel=newLevel=>{setButtonClicked(newLevel);handleSendPhoto();// Re-send photo with new difficulty level\n};if(isLoading){return/*#__PURE__*/_jsx(LoadingScreen,{});}else if(ocrText||openaiSummary){return/*#__PURE__*/_jsx(ResultScreen,{ocrText:ocrText,openaiSummary:openaiSummary,onLevelChange:handleRetryWithNewLevel,onBackToStart:resetAll});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"phone-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"phone-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"mainlogo.png\",alt:\"Main Logo\",className:\"main-logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"\\uC2E0\\uBB38 \\uC694\\uC57D \\uC11C\\uBE44\\uC2A4\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"tip\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uBAA8\\uB450\\uB97C \\uC704\\uD55C \\uC2E0\\uBB38 AI \\uC694\\uC57D \\uC11C\\uBE44\\uC2A4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"u\",{children:\"\\uC911\\uB529\\uC77C\\uBCF4\\uC5D0 \\uC624\\uC2E0 \\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4.\"}),\" \\uC5B4\\uB824\\uC6B4 \\uC2E0\\uBB38, \\uC77D\\uAE30 \\uD798\\uB4DC\\uC2E0\\uAC00\\uC694? \\uC774\\uC81C \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC911\\uB529\\uC77C\\uBCF4\"}),\"\\uB97C \\uD65C\\uC6A9\\uD558\\uC5EC \\uBCF5\\uC7A1\\uD55C \\uC2E0\\uBB38\\uC744 \\uAC04\\uB2E8\\uD558\\uACE0 \\uC27D\\uAC8C \\uC694\\uC57D\\uD574\\uC11C \\uC624\\uB514\\uC624\\uB85C \\uB4E4\\uC5B4\\uBCF4\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC2E0\\uBB38 \\uAE30\\uC0AC\\uC758 \\uC0AC\\uC9C4\\uC744 \\uCC0D\\uAC70\\uB098 \\uC0AC\\uC9C4 \\uD30C\\uC77C\\uC744 \\uC5C5\\uB85C\\uB4DC \\uD55C \\uD6C4 \\uBCF8\\uC778\\uC758 \\uC5B4\\uD718\\uB825 \\uC218\\uC900\\uC744 \",/*#__PURE__*/_jsx(\"u\",{children:\"\\uD558, \\uC911, \\uC0C1\"}),\" \\uC73C\\uB85C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694. \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD558\"}),\"\\uC758 \\uB09C\\uC774\\uB3C4\\uB294 \\uC57D \\uCD08\\uB4F1\\uD559\\uC0DD, \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC911\"}),\"\\uC740 \\uC911\\uD559\\uC0DD, \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC0C1\"}),\"\\uC740 \\uACE0\\uB4F1\\uD559\\uC0DD \\uC218\\uC900\\uC73C\\uB85C \\uC124\\uC815\\uC774 \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB2E4\\uC74C \\uC694\\uC57D\\uBC84\\uD2BC\\uC744 \\uB204\\uB974\\uAE30\\uB9CC \\uD558\\uBA74 \\uADF8\\uB3D9\\uC548 \\uC5B4\\uB824\\uC6E0\\uB358 \\uC2E0\\uBB38 \\uB0B4\\uC6A9\\uC774 \\uBE60\\uB974\\uACE0 \\uC27D\\uAC8C \\uC694\\uC57D\\uB429\\uB2C8\\uB2E4!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{variant:buttonClicked==='하'?\"primary\":\"outline-primary\",onClick:()=>handleClick('하'),children:\"\\uD558\"}),/*#__PURE__*/_jsx(Button,{variant:buttonClicked==='중'?\"warning\":\"outline-warning\",onClick:()=>handleClick('중'),children:\"\\uC911\"}),/*#__PURE__*/_jsx(Button,{variant:buttonClicked==='상'?\"danger\":\"outline-danger\",onClick:()=>handleClick('상'),children:\"\\uC0C1\"})]}),buttonClicked&&/*#__PURE__*/_jsxs(\"p\",{className:\"selected-button\",children:[\"\\uC120\\uD0DD\\uD55C \\uBC84\\uD2BC: \",buttonClicked]}),/*#__PURE__*/_jsxs(\"div\",{className:\"camera-container\",children:[isCameraOn&&/*#__PURE__*/_jsx(Webcam,{audio:false,ref:webcamRef,screenshotFormat:\"image/png\",style:{display:'block',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,ref:fileInputRef,style:{display:'block',margin:'10px 0'}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}}),/*#__PURE__*/_jsx(Button,{className:\"camera-button\",variant:\"warning\",onClick:handleTakePhoto,disabled:!isCameraOn,children:\"\\uC0AC\\uC9C4 \\uCC0D\\uAE30\"}),photoData&&/*#__PURE__*/_jsx(Button,{className:\"save-button\",variant:\"light\",onClick:handleSavePhoto,children:\"\\uC0AC\\uC9C4 \\uC800\\uC7A5\"}),/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",onClick:toggleCamera,children:[\"\\uCE74\\uBA54\\uB77C \",isCameraOn?'끄기':'켜기']})]}),photoData&&/*#__PURE__*/_jsxs(\"div\",{className:\"photo-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uCC0D\\uC740 \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsx(\"img\",{src:photoData,alt:\"Captured\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom-buttons\",children:photoData?/*#__PURE__*/ // If a photo has been taken, show the 요약하기 button\n_jsx(Button,{variant:\"success\",size:\"lg\",onClick:handleSendPhoto,style:{width:'100%'},children:\"\\uC694\\uC57D\\uD558\\uAE30!\"}):/*#__PURE__*/ // If no photo has been taken, show the 외부 링크로 이동 button\n_jsx(Button,{variant:\"info\",size:\"lg\",onClick:()=>handleRedirect('https://www.mk.co.kr/news/politics/10984118'),style:{width:'100%'},children:\"\\uC608\\uC2DC \\uC2E0\\uBB38 \\uBCF4\\uAE30\"})})]});}}export default App;","map":{"version":3,"names":["React","useState","useRef","Button","Webcam","LoadingScreen","ResultScreen","jsx","_jsx","jsxs","_jsxs","App","buttonClicked","setButtonClicked","photoData","setPhotoData","isCameraOn","setIsCameraOn","isLoading","setIsLoading","lastPhoto","setLastPhoto","ocrText","setOcrText","openaiSummary","setOpenaiSummary","webcamRef","canvasRef","fileInputRef","toggleCamera","resetAll","handleFileChange","event","file","target","files","type","startsWith","reader","FileReader","onloadend","result","readAsDataURL","handleRedirect","link","window","open","handleClick","value","handleSendPhoto","handleTakePhoto","canvas","current","context","getContext","webcamVideo","video","width","videoWidth","height","videoHeight","drawImage","photoDataURL","toDataURL","handleSavePhoto","a","document","createElement","href","download","body","appendChild","click","removeChild","console","error","blob","fetch","formData","FormData","append","method","then","response","json","data","ocr_text","openai_summary","log","catch","handleRetryWithNewLevel","newLevel","onLevelChange","onBackToStart","className","children","src","alt","variant","onClick","audio","ref","screenshotFormat","style","display","marginBottom","accept","onChange","margin","disabled","size"],"sources":["/Users/taehyun/Downloads/work_/react_frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Button } from 'react-bootstrap';\nimport Webcam from 'react-webcam';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport LoadingScreen from './LoadingScreen';\nimport ResultScreen from './ResultScreen';\n\nfunction App() {\n  const [buttonClicked, setButtonClicked] = useState('중');\n  const [photoData, setPhotoData] = useState(null);\n  const [isCameraOn, setIsCameraOn] = useState(false); // Camera off by default\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastPhoto, setLastPhoto] = useState(null);\n  const [ocrText, setOcrText] = useState('');\n  const [openaiSummary, setOpenaiSummary] = useState('');\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null); // Ref for the file input\n\n  const toggleCamera = () => {\n    setIsCameraOn(!isCameraOn); // 카메라 상태 토글\n  };\n\n  const resetAll = () => {\n    setButtonClicked('중'); // Reset to default value or any other initial value you prefer\n    setPhotoData(null);\n    setIsCameraOn(false);\n    setIsLoading(false);\n    setLastPhoto(null);\n    setOcrText('');\n    setOpenaiSummary('');\n  };\n  \n\n    const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (file && file.type.startsWith('image/')) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPhotoData(reader.result);\n        setLastPhoto(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleRedirect = (link) => {\n    window.open(link, \"_blank\");\n  };\n\n  const handleClick = (value) => {\n    setButtonClicked(value);\n    if (lastPhoto) {\n      handleSendPhoto(); // Automatically send photo when difficulty is changed if photo exists\n    }\n  };\n\n  const handleTakePhoto = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const webcamVideo = webcamRef.current.video;\n    canvas.width = webcamVideo.videoWidth;\n    canvas.height = webcamVideo.videoHeight;\n    context.drawImage(webcamVideo, 0, 0, canvas.width, canvas.height);\n    const photoDataURL = canvas.toDataURL('image/png');\n    setPhotoData(photoDataURL);\n    setLastPhoto(photoDataURL);\n  };\n\n\n  const handleSavePhoto = () => {\n    const a = document.createElement('a');\n    a.href = photoData;\n    a.download = 'photo.png';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  };\n  const handleSendPhoto = async () => {\n    if (!photoData) {\n      console.error('No photo data to send');\n      return;\n    }\n    setIsLoading(true);\n\n    const blob = await (await fetch(photoData)).blob();\n    const formData = new FormData();\n    formData.append('image', blob, 'photo.png');\n    formData.append('level', buttonClicked);\n\n    fetch('http://localhost:5001/process-image', {\n      method: 'POST',\n      body: formData,\n    })\n    .then(response => response.json())\n    .then(data => {\n      setOcrText(data.ocr_text|| \"\");\n      setOpenaiSummary(data.openai_summary);\n      setIsLoading(false); // Stop loading once the data is received\n         console.log(\"OCR Text:\", data.ocr_text);\n    console.log(\"OpenAI Summary:\", data.openai_summary);\n    })\n    .catch((error) => {\n      console.error('Error:', error);\n      setIsLoading(false);\n    });\n  };\n\n  const handleRetryWithNewLevel = (newLevel) => {\n    setButtonClicked(newLevel);\n    handleSendPhoto(); // Re-send photo with new difficulty level\n  };\n \n  \n  if (isLoading) {\n    return <LoadingScreen />;\n  } else if (ocrText || openaiSummary) {\n    return <ResultScreen ocrText={ocrText} openaiSummary={openaiSummary} onLevelChange={handleRetryWithNewLevel} onBackToStart={resetAll} />;\n  } else {\n  return (\n    <div className=\"phone-screen\">\n      <div className=\"phone-content\">\n      <img src=\"mainlogo.png\" alt=\"Main Logo\" className=\"main-logo\"/>\n          <h1 className=\"title\">신문 요약 서비스</h1>\n          <p className=\"tip\">\n  <strong>모두를 위한 신문 AI 요약 서비스</strong><br />\n  <u>중딩일보에 오신 것을 환영합니다.</u> 어려운 신문, 읽기 힘드신가요? 이제 <strong>중딩일보</strong>를 활용하여 복잡한 신문을 간단하고 쉽게 요약해서 오디오로 들어보세요.<br />\n  신문 기사의 사진을 찍거나 사진 파일을 업로드 한 후 본인의 어휘력 수준을 <u>하, 중, 상</u> 으로 선택해주세요. <strong>하</strong>의 난이도는 약 초등학생, <strong>중</strong>은 중학생, <strong>상</strong>은 고등학생 수준으로 설정이 되었습니다. 그다음 요약버튼을 누르기만 하면 그동안 어려웠던 신문 내용이 빠르고 쉽게 요약됩니다!\n</p>\n\n<div className=\"button-container\">\n            <Button variant={buttonClicked === '하' ? \"primary\" : \"outline-primary\"} onClick={() => handleClick('하')}>\n              하\n            </Button>\n            <Button variant={buttonClicked === '중' ? \"warning\" : \"outline-warning\"} onClick={() => handleClick('중')}>\n              중\n            </Button>\n            <Button variant={buttonClicked === '상' ? \"danger\" : \"outline-danger\"} onClick={() => handleClick('상')}>\n              상\n            </Button>\n          </div>\n        {buttonClicked && <p className=\"selected-button\">선택한 버튼: {buttonClicked}</p>}\n        <div className=\"camera-container\">\n          {isCameraOn && (\n            <Webcam\n              audio={false}\n              ref={webcamRef}\n              screenshotFormat=\"image/png\"\n              style={{ display: 'block', marginBottom: '10px' }}\n            />\n          )}\n          <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} ref={fileInputRef} style={{ display: 'block', margin: '10px 0' }} />\n          <canvas\n            ref={canvasRef}\n            style={{ display: 'none' }}\n          ></canvas>\n          <Button\n            className=\"camera-button\"\n            variant=\"warning\"\n            onClick={handleTakePhoto}\n            disabled={!isCameraOn}\n          >\n            사진 찍기\n          </Button>\n          {photoData && (\n            <Button\n              className=\"save-button\"\n              variant=\"light\"\n              onClick={handleSavePhoto}\n            >\n              사진 저장\n            </Button>\n          )}\n          <Button\n            variant=\"secondary\"\n            onClick={toggleCamera}\n          >\n            카메라 {isCameraOn ? '끄기' : '켜기'}\n          </Button>\n        </div>\n        {photoData && (\n          <div className=\"photo-container\">\n          <h2>찍은 사진</h2>\n          <img src={photoData} alt=\"Captured\" />\n        </div>\n      )}\n    </div>\n\n    <div className=\"bottom-buttons\">\n      {photoData ? (\n        // If a photo has been taken, show the 요약하기 button\n        <Button variant=\"success\" size=\"lg\" onClick={handleSendPhoto} style={{ width: '100%' }}>\n          요약하기!\n        </Button>\n      ) : (\n        // If no photo has been taken, show the 외부 링크로 이동 button\n        <Button variant=\"info\" size=\"lg\" onClick={() => handleRedirect('https://www.mk.co.kr/news/politics/10984118')} style={{ width: '100%' }}>\n          예시 신문 보기\n        </Button>\n      )}\n    </div>\n  </div>\n);\n}\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}